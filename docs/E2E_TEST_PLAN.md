# VOC Auto Bot - Playwright E2E 테스트 계획

## 1. 테스트 환경

| 항목 | 설정 |
|------|------|
| Frontend URL | http://localhost:3000 |
| Backend URL | http://localhost:8080 |
| Playwright Version | ^1.41.1 |
| 브라우저 | Chromium, Firefox, WebKit, Mobile Chrome, Mobile Safari |
| 테스트 디렉토리 | frontend/e2e/ |

## 2. 테스트 시나리오 구조

### 2.1 인증 (Authentication) - `e2e/auth/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-01-01 | 로그인 성공 | 올바른 자격 증명으로 로그인 |
| SC-01-02 | 로그인 실패 - 잘못된 비밀번호 | 오류 메시지 표시 확인 |
| SC-01-03 | 로그인 실패 - 존재하지 않는 사용자 | 오류 메시지 표시 확인 |
| SC-01-04 | 필수 필드 검증 | 아이디/비밀번호 미입력 시 검증 |
| SC-01-05 | 비밀번호 토글 | 비밀번호 표시/숨김 기능 |
| SC-01-06 | 로딩 상태 | 로그인 중 로딩 표시 |
| SC-01-07 | 로그아웃 | 세션 종료 및 리다이렉트 |
| SC-01-08 | 토큰 만료 처리 | 만료된 토큰으로 접근 시 처리 |
| SC-01-09 | 보호된 라우트 | 미인증 사용자 접근 차단 |
| SC-01-10 | 접근성 | ARIA 레이블, 키보드 네비게이션 |

### 2.2 대시보드 (Dashboard) - `e2e/dashboard/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-11-01 | KPI 카드 표시 | 4개 KPI 카드 렌더링 확인 |
| SC-11-02 | 추세 차트 | 일별 VOC 추세 차트 렌더링 |
| SC-11-03 | 카테고리 차트 | 카테고리별 분포 차트 |
| SC-11-04 | 상태 차트 | 상태별 분포 차트 |
| SC-11-05 | 우선순위 차트 | 우선순위별 분포 차트 |
| SC-11-06 | 최근 VOC 목록 | 최근 VOC 항목 표시 |
| SC-11-07 | 기간 필터 | 오늘/7일/30일 필터 변경 |
| SC-11-08 | 데이터 새로고침 | 대시보드 데이터 갱신 |
| SC-11-09 | 로딩 상태 | 데이터 로딩 중 표시 |
| SC-11-10 | 에러 처리 | API 오류 시 에러 상태 표시 |
| SC-11-11 | 빈 상태 | 데이터 없을 때 빈 상태 표시 |
| SC-11-12 | 반응형 디자인 | 모바일 뷰포트에서 차트 표시 |

### 2.3 VOC 테이블 (VOC Table) - `e2e/voc/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-05-01 | 테이블 렌더링 | 테이블 헤더 및 데이터 표시 |
| SC-05-02 | 정렬 | 컬럼별 정렬 (오름차순/내림차순) |
| SC-05-03 | 검색 필터 | 키워드로 VOC 검색 |
| SC-05-04 | 상태 필터 | 상태별 필터링 |
| SC-05-05 | 우선순위 필터 | 우선순위별 필터링 |
| SC-05-06 | 카테고리 필터 | 카테고리별 필터링 |
| SC-05-07 | 날짜 범위 필터 | 기간별 필터링 |
| SC-05-08 | 필터 초기화 | 모든 필터 리셋 |
| SC-05-09 | 페이지네이션 | 페이지 이동 및 크기 변경 |
| SC-05-10 | 행 선택 | 개별/전체 행 선택 |
| SC-05-11 | 상세 페이지 이동 | 행 클릭 시 상세 페이지 이동 |
| SC-05-12 | 빈 상태 | 데이터 없을 때 표시 |
| SC-05-13 | 로딩 상태 | 데이터 로딩 중 표시 |

### 2.4 VOC 입력 (VOC Input) - `e2e/voc/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-02-01 | VOC 등록 | 새 VOC 등록 |
| SC-02-02 | 필수 필드 검증 | 필수 입력값 검증 |
| SC-02-03 | 파일 첨부 | 첨부 파일 업로드 |
| SC-02-04 | 카테고리 선택 | 카테고리 드롭다운 선택 |

### 2.5 VOC 상세 (VOC Detail) - `e2e/voc/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-03-01 | 상세 정보 표시 | VOC 상세 정보 렌더링 |
| SC-03-02 | 상태 변경 | VOC 상태 업데이트 |
| SC-03-03 | 댓글 추가 | 댓글 작성 및 표시 |
| SC-03-04 | 히스토리 | 변경 이력 표시 |

### 2.6 VOC 칸반 (VOC Kanban) - `e2e/voc/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-06-01 | 칸반 보드 렌더링 | 상태별 컬럼 표시 |
| SC-06-02 | 카드 드래그앤드롭 | 상태 변경 드래그 |
| SC-06-03 | 카드 클릭 | 상세 페이지 이동 |

### 2.7 유사 VOC (Similar VOC) - `e2e/voc/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-07-01 | 유사 VOC 목록 | AI 기반 유사 VOC 표시 |
| SC-07-02 | 유사 VOC 상세 | 유사 VOC 클릭 시 상세 모달 |

### 2.8 이메일 (Email) - `e2e/email/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-08-01 | 이메일 발송 | 고객에게 이메일 발송 |
| SC-08-02 | 템플릿 선택 | 이메일 템플릿 선택 |
| SC-08-03 | 미리보기 | 이메일 미리보기 |

### 2.9 관리자 - 사용자 (Admin User) - `e2e/admin/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-09-01 | 사용자 목록 | 사용자 목록 표시 |
| SC-09-02 | 사용자 생성 | 새 사용자 등록 |
| SC-09-03 | 사용자 수정 | 사용자 정보 수정 |
| SC-09-04 | 사용자 삭제 | 사용자 삭제 |

### 2.10 관리자 - 카테고리 (Admin Category) - `e2e/admin/`

| 시나리오 ID | 테스트 케이스 | 설명 |
|-------------|---------------|------|
| SC-10-01 | 카테고리 목록 | 카테고리 목록 표시 |
| SC-10-02 | 카테고리 생성 | 새 카테고리 등록 |
| SC-10-03 | 카테고리 수정 | 카테고리 수정 |
| SC-10-04 | 카테고리 삭제 | 카테고리 삭제 |

## 3. 테스트 실행 명령어

```bash
# 모든 E2E 테스트 실행
npm run test:e2e

# UI 모드로 실행
npm run test:e2e:ui

# Headed 모드 (브라우저 표시)
npm run test:e2e:headed

# 디버그 모드
npm run test:e2e:debug

# 특정 브라우저만 실행
npm run test:e2e:chromium
npm run test:e2e:firefox
npm run test:e2e:webkit

# 인증 테스트만 실행
npm run test:e2e:auth
```

## 4. 테스트 데이터

- 테스트 계정: admin / admin123 (환경 변수: TEST_USERNAME, TEST_PASSWORD)
- 테스트 픽스처: `e2e/fixtures/`
- 인증 상태 저장: `e2e/.auth/user.json`

## 5. 테스트 리포트

- HTML 리포트: `frontend/playwright-report/`
- JSON 결과: `frontend/test-results/results.json`
- JUnit XML: `frontend/test-results/junit.xml`

## 6. 기존 테스트 파일 목록

| 파일 | 설명 |
|------|------|
| `e2e/auth/login.spec.ts` | 로그인/로그아웃 테스트 |
| `e2e/dashboard/dashboard.spec.ts` | 대시보드 테스트 |
| `e2e/voc/voc-table.spec.ts` | VOC 테이블 테스트 |
| `e2e/voc/voc-input.spec.ts` | VOC 입력 테스트 |
| `e2e/voc/voc-detail.spec.ts` | VOC 상세 테스트 |
| `e2e/voc/voc-status.spec.ts` | VOC 상태 변경 테스트 |
| `e2e/voc/voc-kanban.spec.ts` | VOC 칸반 테스트 |
| `e2e/voc/similar-voc.spec.ts` | 유사 VOC 테스트 |
| `e2e/email/email.spec.ts` | 이메일 테스트 |
| `e2e/admin/user.spec.ts` | 사용자 관리 테스트 |
| `e2e/admin/category.spec.ts` | 카테고리 관리 테스트 |
| `e2e/setup/auth.setup.ts` | 인증 설정 |
