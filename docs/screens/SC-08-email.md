# SC-08: 이메일 발송 화면

> **연관 이슈**: #8
> **관련 요구사항**: FR-902, FR-903, FR-904

---

## 1. 화면 개요

### 1.1 목적
VOC 처리 담당자가 VOC 완료 또는 반려 시 최종 사용자에게 선택적으로 이메일을 발송하기 위한 화면입니다.

### 1.2 화면 유형
- 모달(Modal) 형태
- VOC 상세 화면(SC-06)에서 "이메일 발송" 버튼 클릭 시 표시

### 1.3 접근 권한
- **사용자**: VOC 처리 담당자
- **권한 조건**:
  - 로그인된 사용자
  - VOC 상태가 '완료' 또는 '반려'인 경우에만 발송 가능
  - 해당 VOC에 대한 처리 권한 보유

---

## 2. 레이아웃 구조

```
┌─────────────────────────────────────────────────────────────────┐
│  이메일 발송                                          [미리보기] [X] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  수신자                                                          │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ user@example.com (읽기 전용)                              │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  템플릿 선택                                          [템플릿 관리] │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ ▼ VOC 완료 안내 (기본)                                    │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  제목 *                                                         │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ [VOC-20260123-00001] VOC 처리 완료 안내                   │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  본문 *                                                         │
│  ┌───────────────────────────────────────────────────────────┐  │
│  │ 안녕하세요.                                               │  │
│  │                                                           │  │
│  │ 고객님께서 문의하신 [{{title}}] 건이 처리 완료되었습니다. │  │
│  │                                                           │  │
│  │ 처리 내용:                                                │  │
│  │ {{처리 내용}}                                             │  │
│  │                                                           │  │
│  │ 추가 문의사항이 있으시면 언제든지 연락 주시기 바랍니다.   │  │
│  │                                                           │  │
│  │ 감사합니다.                                               │  │
│  │                                                           │  │
│  │ [15 / 2000자]                                             │  │
│  └───────────────────────────────────────────────────────────┘  │
│                                                                 │
│  사용 가능한 변수:                                              │
│  • {{ticketId}} - VOC 접수번호                                 │
│  • {{title}} - VOC 제목                                        │
│  • {{status}} - 처리 상태 (완료/반려)                         │
│  • {{processingNote}} - 처리 내용                             │
│  • {{rejectReason}} - 반려 사유 (반려 시에만)                 │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                    [취소]  [임시저장]  [발송]    │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. UI 요소 목록

### 3.1 헤더 영역

| 요소 | 타입 | 설명 |
|------|------|------|
| 제목 | Text | "이메일 발송" 고정 텍스트 |
| 미리보기 버튼 | Button | 이메일 미리보기 팝업 열기 |
| 닫기 버튼 (X) | IconButton | 모달 닫기 |

### 3.2 폼 영역

#### 수신자
| 요소 | 타입 | 필수 | 설명 |
|------|------|------|------|
| 수신자 이메일 | TextInput (읽기 전용) | 필수 | VOC 접수 시 입력된 최종 사용자 이메일 자동 입력 |

#### 템플릿 선택
| 요소 | 타입 | 필수 | 설명 |
|------|------|------|------|
| 템플릿 드롭다운 | Select | 선택 | 이메일 템플릿 선택 (기본값: "VOC 완료 안내") |
| 템플릿 관리 버튼 | TextButton | - | 템플릿 관리 화면으로 이동 (관리자 권한 필요) |

**템플릿 종류**:
- VOC 완료 안내 (기본)
- VOC 반려 안내
- 추가 정보 요청
- 사용자 정의 템플릿 (관리자가 추가한 템플릿)

#### 제목
| 요소 | 타입 | 필수 | 검증 |
|------|------|------|------|
| 제목 입력 | TextInput | 필수 | 최대 200자, 공백 불가 |

**기본값 예시**:
- 완료 시: `[{{ticketId}}] VOC 처리 완료 안내`
- 반려 시: `[{{ticketId}}] VOC 반려 안내`

#### 본문
| 요소 | 타입 | 필수 | 검증 |
|------|------|------|------|
| 본문 입력 | Textarea | 필수 | 최대 2,000자, 최소 10자 |
| 글자 수 표시 | Text | - | 실시간 글자 수 / 최대 글자 수 표시 |

**기본 템플릿 (완료 시)**:
```
안녕하세요.

고객님께서 문의하신 [{{title}}] 건이 처리 완료되었습니다.

처리 내용:
{{processingNote}}

추가 문의사항이 있으시면 언제든지 연락 주시기 바랍니다.

감사합니다.
```

**기본 템플릿 (반려 시)**:
```
안녕하세요.

고객님께서 문의하신 [{{title}}] 건이 반려되었습니다.

반려 사유:
{{rejectReason}}

추가 문의사항이 있으시면 언제든지 연락 주시기 바랍니다.

감사합니다.
```

#### 변수 안내
| 요소 | 타입 | 설명 |
|------|------|------|
| 사용 가능한 변수 | InfoBox | 템플릿 변수 목록 및 설명 표시 |

**지원 변수**:
| 변수 | 설명 | 예시 |
|------|------|------|
| `{{ticketId}}` | VOC 접수번호 | VOC-20260123-00001 |
| `{{title}}` | VOC 제목 | 로그인 오류 문의 |
| `{{status}}` | 처리 상태 | 완료 / 반려 |
| `{{processingNote}}` | 처리 내용 | 시스템 오류 수정 완료 |
| `{{rejectReason}}` | 반려 사유 (반려 시에만) | 중복 접수 |

### 3.3 액션 영역

| 요소 | 타입 | 설명 | 우선순위 |
|------|------|------|---------|
| 취소 버튼 | Button (Secondary) | 모달 닫기, 변경 사항 미저장 경고 | - |
| 임시저장 버튼 | Button (Secondary) | 작성 중인 내용 임시 저장 (선택 사항) | 선택 |
| 발송 버튼 | Button (Primary) | 이메일 발송 및 모달 닫기 | 필수 |

---

## 4. 사용자 액션 및 이벤트

### 4.1 모달 열기
**Trigger**: VOC 상세 화면(SC-06)에서 "이메일 발송" 버튼 클릭

**동작**:
1. VOC 상태 검증 (완료/반려 상태인지 확인)
2. 모달 렌더링
3. 초기 데이터 로드:
   - 수신자: VOC의 최종 사용자 이메일
   - 템플릿: 상태에 따라 기본 템플릿 선택 (완료/반려)
   - 제목: 템플릿의 기본 제목 + 변수 치환
   - 본문: 템플릿의 기본 본문 + 변수 치환

### 4.2 템플릿 선택
**Trigger**: 템플릿 드롭다운 변경

**동작**:
1. 선택한 템플릿 데이터 조회 (GET `/api/email-templates/{templateId}`)
2. 제목, 본문을 템플릿 내용으로 업데이트
3. 변수 치환 수행
4. 사용자가 이미 내용을 수정한 경우 확인 팝업 표시:
   ```
   "작성 중인 내용이 있습니다. 템플릿을 변경하시겠습니까?"
   [취소] [변경]
   ```

### 4.3 변수 치환
**Trigger**: 템플릿 선택, 미리보기, 발송 시

**동작**:
1. 본문에서 `{{변수명}}` 패턴 검색
2. VOC 데이터에서 해당 변수값 추출
3. 변수를 실제 값으로 치환
4. 치환 불가능한 변수 감지 시 경고 표시:
   ```
   "{{변수명}} 변수를 치환할 수 없습니다. 내용을 확인해 주세요."
   ```

### 4.4 미리보기
**Trigger**: "미리보기" 버튼 클릭

**동작**:
1. 현재 입력된 제목, 본문에 대해 변수 치환 수행
2. 미리보기 팝업 표시 (HTML 렌더링된 이메일 형식)
3. 팝업 내용:
   - 수신자: `user@example.com`
   - 제목: 치환된 제목
   - 본문: 치환된 본문 (HTML 형식)

**미리보기 팝업 레이아웃**:
```
┌─────────────────────────────────────────────────────┐
│  이메일 미리보기                              [X]   │
├─────────────────────────────────────────────────────┤
│  수신자: user@example.com                          │
│  제목: [VOC-20260123-00001] VOC 처리 완료 안내     │
│                                                     │
│  ┌───────────────────────────────────────────────┐ │
│  │ 안녕하세요.                                   │ │
│  │                                               │ │
│  │ 고객님께서 문의하신 [로그인 오류 문의] 건이   │ │
│  │ 처리 완료되었습니다.                          │ │
│  │                                               │ │
│  │ 처리 내용:                                    │ │
│  │ 시스템 오류 수정 완료                         │ │
│  │                                               │ │
│  │ 추가 문의사항이 있으시면 언제든지             │ │
│  │ 연락 주시기 바랍니다.                         │ │
│  │                                               │ │
│  │ 감사합니다.                                   │ │
│  └───────────────────────────────────────────────┘ │
│                                                     │
├─────────────────────────────────────────────────────┤
│                                          [닫기]     │
└─────────────────────────────────────────────────────┘
```

### 4.5 임시저장
**Trigger**: "임시저장" 버튼 클릭

**동작**:
1. 현재 입력된 제목, 본문을 로컬 스토리지 또는 서버에 저장
2. 성공 토스트 메시지 표시: "임시 저장되었습니다."
3. 모달은 닫지 않음

**저장 키**:
- `draft_email_{vocId}_{userId}`

### 4.6 발송
**Trigger**: "발송" 버튼 클릭

**동작**:
1. 폼 유효성 검사 수행
2. 변수 치환 수행
3. 이메일 발송 API 호출 (POST `/api/vocs/{vocId}/send-email`)
4. 성공 시:
   - 성공 토스트 메시지: "이메일이 발송되었습니다."
   - 모달 닫기
   - VOC 상세 화면 새로고침 (이메일 발송 이력 반영)
   - 임시저장 데이터 삭제
5. 실패 시:
   - 에러 메시지 표시 (모달 상단)
   - 모달 유지

### 4.7 취소
**Trigger**: "취소" 버튼 또는 닫기(X) 버튼 클릭

**동작**:
1. 사용자가 내용을 수정한 경우 확인 팝업 표시:
   ```
   "작성 중인 내용이 저장되지 않았습니다. 닫으시겠습니까?"
   [임시저장 후 닫기] [그냥 닫기] [취소]
   ```
2. "임시저장 후 닫기" 선택 시:
   - 임시저장 로직 실행 → 모달 닫기
3. "그냥 닫기" 선택 시:
   - 모달 즉시 닫기
4. "취소" 선택 시:
   - 모달 유지

---

## 5. 유효성 검사

### 5.1 실시간 검사 (onChange)

| 필드 | 검증 규칙 | 에러 메시지 |
|------|----------|------------|
| 제목 | 최대 200자 | "제목은 최대 200자까지 입력 가능합니다." |
| 본문 | 최대 2,000자 | "본문은 최대 2,000자까지 입력 가능합니다." |

### 5.2 제출 시 검사 (onSubmit)

| 필드 | 검증 규칙 | 에러 메시지 | 우선순위 |
|------|----------|------------|---------|
| 수신자 | 필수 입력 | "수신자 이메일이 없습니다." | 필수 |
| 수신자 | 이메일 형식 | "올바른 이메일 주소를 입력해 주세요." | 필수 |
| 제목 | 필수 입력 | "제목을 입력해 주세요." | 필수 |
| 제목 | 공백만 입력 불가 | "제목을 입력해 주세요." | 필수 |
| 제목 | 최대 200자 | "제목은 최대 200자까지 입력 가능합니다." | 필수 |
| 본문 | 필수 입력 | "본문을 입력해 주세요." | 필수 |
| 본문 | 최소 10자 | "본문은 최소 10자 이상 입력해 주세요." | 필수 |
| 본문 | 최대 2,000자 | "본문은 최대 2,000자까지 입력 가능합니다." | 필수 |
| 본문 | 변수 치환 가능 여부 | "치환할 수 없는 변수가 있습니다: {{변수명}}" | 필수 |

### 5.3 XSS 방지
- 제목, 본문 입력 시 HTML 태그 sanitization 수행
- 허용 태그: `<br>`, `<p>`, `<strong>`, `<em>`, `<u>`
- 스크립트 태그 및 이벤트 핸들러 제거

---

## 6. 에러 처리

### 6.1 API 에러

| 에러 케이스 | HTTP 상태 | 에러 메시지 | 처리 방법 |
|------------|----------|------------|----------|
| VOC 상태 오류 | 400 | "완료 또는 반려 상태의 VOC만 이메일을 발송할 수 있습니다." | 모달 닫기, VOC 상세 화면에 에러 토스트 표시 |
| 수신자 없음 | 400 | "수신자 이메일이 없습니다." | 모달 상단에 에러 메시지 표시 |
| 템플릿 조회 실패 | 404 | "템플릿을 찾을 수 없습니다." | 기본 템플릿으로 대체 |
| 이메일 발송 실패 | 500 | "이메일 발송에 실패했습니다. 잠시 후 다시 시도해 주세요." | 모달 상단에 에러 메시지 표시, 재시도 유도 |
| SMTP 서버 오류 | 503 | "이메일 서버가 응답하지 않습니다. 잠시 후 다시 시도해 주세요." | 모달 상단에 에러 메시지 표시 |
| 권한 없음 | 403 | "이메일 발송 권한이 없습니다." | 모달 닫기, VOC 상세 화면에 에러 토스트 표시 |
| Rate Limiting | 429 | "이메일 발송 요청이 너무 많습니다. 잠시 후 다시 시도해 주세요." | 모달 상단에 에러 메시지 표시, 재시도 시간 안내 |

### 6.2 네트워크 에러

| 에러 케이스 | 에러 메시지 | 처리 방법 |
|------------|------------|----------|
| 네트워크 연결 끊김 | "네트워크 연결을 확인해 주세요." | 모달 상단에 에러 메시지 표시, 재시도 버튼 제공 |
| 타임아웃 | "요청 시간이 초과되었습니다. 다시 시도해 주세요." | 모달 상단에 에러 메시지 표시 |

### 6.3 클라이언트 에러

| 에러 케이스 | 에러 메시지 | 처리 방법 |
|------------|------------|----------|
| 변수 치환 실패 | "치환할 수 없는 변수가 있습니다: {{변수명}}" | 해당 필드 하단에 에러 메시지 표시 |
| 임시저장 실패 | "임시 저장에 실패했습니다." | 토스트 메시지 표시 |

---

## 7. 연관 API

### 7.1 템플릿 목록 조회
```
GET /api/email-templates
```

**응답**:
```json
{
  "templates": [
    {
      "id": "template-001",
      "name": "VOC 완료 안내",
      "type": "COMPLETED",
      "isDefault": true
    },
    {
      "id": "template-002",
      "name": "VOC 반려 안내",
      "type": "REJECTED",
      "isDefault": true
    },
    {
      "id": "template-003",
      "name": "추가 정보 요청",
      "type": "CUSTOM",
      "isDefault": false
    }
  ]
}
```

### 7.2 템플릿 상세 조회
```
GET /api/email-templates/{templateId}
```

**응답**:
```json
{
  "id": "template-001",
  "name": "VOC 완료 안내",
  "subject": "[{{ticketId}}] VOC 처리 완료 안내",
  "body": "안녕하세요.\n\n고객님께서 문의하신 [{{title}}] 건이 처리 완료되었습니다.\n\n처리 내용:\n{{processingNote}}\n\n추가 문의사항이 있으시면 언제든지 연락 주시기 바랍니다.\n\n감사합니다.",
  "type": "COMPLETED",
  "variables": ["ticketId", "title", "processingNote"]
}
```

### 7.3 이메일 발송
```
POST /api/vocs/{vocId}/send-email
```

**요청**:
```json
{
  "recipient": "user@example.com",
  "subject": "[VOC-20260123-00001] VOC 처리 완료 안내",
  "body": "안녕하세요.\n\n고객님께서 문의하신 [로그인 오류 문의] 건이 처리 완료되었습니다.\n\n처리 내용:\n시스템 오류 수정 완료\n\n추가 문의사항이 있으시면 언제든지 연락 주시기 바랍니다.\n\n감사합니다.",
  "templateId": "template-001"
}
```

**응답**:
```json
{
  "success": true,
  "emailId": "email-001",
  "sentAt": "2026-01-23T10:30:00Z"
}
```

### 7.4 임시저장 (선택)
```
POST /api/vocs/{vocId}/draft-email
```

**요청**:
```json
{
  "subject": "[VOC-20260123-00001] VOC 처리 완료 안내",
  "body": "안녕하세요.\n\n고객님께서...",
  "templateId": "template-001"
}
```

**응답**:
```json
{
  "success": true,
  "draftId": "draft-001",
  "savedAt": "2026-01-23T10:25:00Z"
}
```

### 7.5 임시저장 조회 (선택)
```
GET /api/vocs/{vocId}/draft-email
```

**응답**:
```json
{
  "draftId": "draft-001",
  "subject": "[VOC-20260123-00001] VOC 처리 완료 안내",
  "body": "안녕하세요.\n\n고객님께서...",
  "templateId": "template-001",
  "savedAt": "2026-01-23T10:25:00Z"
}
```

---

## 8. 화면 전환

### 8.1 진입 경로

| 출발 화면 | 액션 | 도착 화면 |
|----------|------|----------|
| SC-06 (VOC 상세) | "이메일 발송" 버튼 클릭 | SC-08 (이메일 발송 모달) |

### 8.2 이탈 경로

| 출발 화면 | 액션 | 도착 화면 | 데이터 전달 |
|----------|------|----------|------------|
| SC-08 (이메일 발송 모달) | 발송 완료 | SC-06 (VOC 상세) | 이메일 발송 성공 메시지 |
| SC-08 (이메일 발송 모달) | 취소/닫기 | SC-06 (VOC 상세) | - |
| SC-08 (이메일 발송 모달) | "템플릿 관리" 클릭 (관리자) | SC-09 (템플릿 관리) | - |

---

## 9. 상태 관리

### 9.1 로컬 상태 (Component State)

```typescript
interface EmailFormState {
  recipient: string;          // 수신자 이메일 (읽기 전용)
  templateId: string | null;  // 선택된 템플릿 ID
  subject: string;            // 제목
  body: string;               // 본문
  isDirty: boolean;           // 사용자 수정 여부
  isSubmitting: boolean;      // 발송 중 여부
  errors: {
    subject?: string;
    body?: string;
    general?: string;
  };
}
```

### 9.2 초기화

```typescript
const initialState: EmailFormState = {
  recipient: voc.endUserEmail,
  templateId: defaultTemplateId, // 상태에 따라 완료/반려 템플릿 자동 선택
  subject: substituteVariables(template.subject, voc),
  body: substituteVariables(template.body, voc),
  isDirty: false,
  isSubmitting: false,
  errors: {}
};
```

---

## 10. 접근성 (Accessibility)

### 10.1 키보드 네비게이션
- **Tab**: 다음 입력 요소로 이동
- **Shift + Tab**: 이전 입력 요소로 이동
- **Enter**: 포커스된 버튼 실행
- **Esc**: 모달 닫기 (변경 사항 확인 팝업 표시)

### 10.2 스크린 리더
- 모달 열릴 때 포커스 자동 이동 (제목 또는 첫 번째 입력 필드)
- 모든 폼 필드에 `<label>` 연결
- 에러 메시지에 `role="alert"` 추가
- 필수 필드에 `aria-required="true"` 추가
- 글자 수 표시에 `aria-live="polite"` 추가

### 10.3 ARIA 속성

```html
<div role="dialog" aria-labelledby="email-modal-title" aria-modal="true">
  <h2 id="email-modal-title">이메일 발송</h2>

  <label for="email-recipient">수신자 *</label>
  <input
    id="email-recipient"
    type="email"
    readonly
    aria-required="true"
    aria-describedby="recipient-help"
  />

  <label for="email-subject">제목 *</label>
  <input
    id="email-subject"
    type="text"
    aria-required="true"
    aria-invalid={!!errors.subject}
    aria-describedby="subject-error"
  />
  <span id="subject-error" role="alert">{errors.subject}</span>

  <label for="email-body">본문 *</label>
  <textarea
    id="email-body"
    aria-required="true"
    aria-invalid={!!errors.body}
    aria-describedby="body-error body-char-count"
  />
  <span id="body-char-count" aria-live="polite">{charCount} / 2000자</span>
  <span id="body-error" role="alert">{errors.body}</span>
</div>
```

---

## 11. 반응형 디자인

### 11.1 데스크톱 (1024px 이상)
- 모달 너비: 800px
- 본문 textarea 높이: 400px

### 11.2 태블릿 (768px ~ 1023px)
- 모달 너비: 90vw
- 본문 textarea 높이: 300px

### 11.3 모바일 (767px 이하)
- 모달 전체 화면 (Full Screen)
- 본문 textarea 높이: 250px
- 버튼 세로 배치

---

## 12. 보안 고려사항

### 12.1 XSS 방지
- 모든 텍스트 입력 sanitization 수행
- 허용 HTML 태그만 렌더링 (`<br>`, `<p>`, `<strong>`, `<em>`, `<u>`)
- 스크립트 태그 및 이벤트 핸들러 제거

### 12.2 CSRF 방지
- API 요청 시 CSRF 토큰 포함

### 12.3 Rate Limiting
- 동일 VOC에 대해 1분당 최대 3회 이메일 발송 제한
- 사용자당 1분당 최대 10회 이메일 발송 제한

### 12.4 권한 검증
- 이메일 발송 권한 확인 (VOC 처리 담당자)
- VOC 상태 검증 (완료/반려 상태만 발송 가능)

---

## 13. 테스트 시나리오

### 13.1 정상 시나리오

| 순번 | 시나리오 | 기대 결과 |
|------|---------|----------|
| 1 | VOC 상세 화면에서 "이메일 발송" 클릭 | 이메일 발송 모달이 열리고 기본 템플릿이 로드됨 |
| 2 | 템플릿 선택 변경 | 제목, 본문이 선택한 템플릿으로 업데이트됨 |
| 3 | 본문 수정 후 "미리보기" 클릭 | 변수가 치환된 이메일 미리보기가 표시됨 |
| 4 | 제목, 본문 입력 후 "발송" 클릭 | 이메일이 발송되고 성공 메시지가 표시됨 |
| 5 | 작성 중 "임시저장" 클릭 | 임시저장 성공 메시지가 표시됨 |

### 13.2 에러 시나리오

| 순번 | 시나리오 | 기대 결과 |
|------|---------|----------|
| 1 | 제목 미입력 후 "발송" 클릭 | "제목을 입력해 주세요." 에러 메시지 표시 |
| 2 | 본문 10자 미만 입력 후 "발송" 클릭 | "본문은 최소 10자 이상 입력해 주세요." 에러 메시지 표시 |
| 3 | 존재하지 않는 변수 사용 후 "발송" 클릭 | "치환할 수 없는 변수가 있습니다" 에러 메시지 표시 |
| 4 | SMTP 서버 오류 발생 | "이메일 서버가 응답하지 않습니다" 에러 메시지 표시 |
| 5 | 내용 수정 후 "취소" 클릭 | 확인 팝업이 표시됨 |

### 13.3 경계 조건

| 순번 | 시나리오 | 기대 결과 |
|------|---------|----------|
| 1 | 제목 정확히 200자 입력 | 정상 입력됨, 발송 가능 |
| 2 | 제목 201자 입력 시도 | 200자까지만 입력됨 |
| 3 | 본문 정확히 2,000자 입력 | 정상 입력됨, 발송 가능 |
| 4 | 본문 2,001자 입력 시도 | 2,000자까지만 입력됨 |

---

## 14. 개발 우선순위

### Phase 1 (필수)
- [x] 기본 모달 UI 구현
- [x] 템플릿 선택 기능
- [x] 제목, 본문 입력 폼
- [x] 변수 치환 기능
- [x] 유효성 검사
- [x] 이메일 발송 API 연동

### Phase 2 (선택)
- [ ] 미리보기 기능
- [ ] 임시저장 기능
- [ ] 템플릿 관리 연동

### Phase 3 (선택)
- [ ] Rich Text Editor (HTML 이메일)
- [ ] 첨부파일 추가 기능
- [ ] 발송 이력 조회

---

## 15. 참고 사항

### 15.1 이메일 템플릿 관리 (FR-904)
- 관리자는 별도 화면(SC-09)에서 이메일 템플릿을 생성/수정/삭제할 수 있음
- 템플릿에는 변수(예: `{{ticketId}}`, `{{title}}`)를 사용할 수 있음
- 기본 템플릿은 삭제 불가

### 15.2 이메일 발송 이력
- VOC 상세 화면(SC-06)에서 이메일 발송 이력을 조회할 수 있음
- 발송 일시, 수신자, 제목, 발송 상태(성공/실패) 표시

### 15.3 제약사항
- 이메일은 일반 텍스트 형식으로 발송 (HTML 이메일은 Phase 3에서 고려)
- 첨부파일 기능은 Phase 3에서 고려
- 이메일 발송 실패 시 재시도 로직은 백엔드에서 처리

---

## 16. 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2026-01-23 | Claude | 초안 작성 |
